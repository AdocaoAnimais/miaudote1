CREATE TABLE IF NOT EXISTS ADOCAO
(
    ADOCAO_ID               INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    DATA_INICIO_ADOCAO      DATE    NOT NULL DEFAULT CURRENT_TIMESTAMP,
    USER_ADOCAO_ID          INTEGER NOT NULL,
    PET_ADOTADO_ID          INTEGER NOT NULL,
    SOLICITACAO_ADOCAO_ID   INTEGER NOT NULL,
    DATA_FIM_ADOCAO         DATE,
    DATA_FIM_ACOMPANHAMENTO DATE    NOT NULL,
    UNIQUE (USER_ADOCAO_ID, PET_ADOTADO_ID),
    FOREIGN KEY (USER_ADOCAO_ID) REFERENCES USUARIO (USUARIO_ID),
    FOREIGN KEY (PET_ADOTADO_ID) REFERENCES PET (PET_ID),
    FOREIGN KEY (SOLICITACAO_ADOCAO_ID) REFERENCES SOLICITACAO_ADOCAO (SOLICITACAO_ADOCAO_ID)
);

SELECT *
FROM ADOCAO;

INSERT INTO ADOCAO (DATA_INICIO_ADOCAO, USER_ADOCAO_ID, PET_ADOTADO_ID, SOLICITACAO_ADOCAO_ID, DATA_FIM_ADOCAO,
                    DATA_FIM_ACOMPANHAMENTO)
VALUES (CURRENT_DATE, 2, 1, 1, NULL, DATE(CURRENT_DATE, '+90 day'));

